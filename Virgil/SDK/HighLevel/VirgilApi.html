<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: Virgil::SDK::HighLevel::VirgilApi
  
    &mdash; Documentation by YARD 0.9.19
  
</title>

  <link rel="stylesheet" href="../../../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../../../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "Virgil::SDK::HighLevel::VirgilApi";
  relpath = '../../../';
</script>


  <script type="text/javascript" charset="utf-8" src="../../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../../../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../../../_index.html">Index (V)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../../Virgil.html" title="Virgil (module)">Virgil</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../../SDK.html" title="Virgil::SDK (module)">SDK</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../HighLevel.html" title="Virgil::SDK::HighLevel (module)">HighLevel</a></span></span>
     &raquo; 
    <span class="title">VirgilApi</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: Virgil::SDK::HighLevel::VirgilApi
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">Virgil::SDK::HighLevel::VirgilApi</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/virgil/sdk/high_level/virgil_api.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>The VirgilApi class is a high-level API that provides easy access to Virgil
Security services and allows to perform cryptographic operations by using
two domain entities VirgilKey and VirgilCard. Where the VirgilKey is an
entity that represents a user&#39;s Private key, and the VirgilCard is the
entity that represents user&#39;s identity and a Public key.</p>


  </div>
</div>
<div class="tags">
  

</div><h2>Defined Under Namespace</h2>
<p class="children">
  
    
  
    
      <strong class="classes">Classes:</strong> <span class='object_link'><a href="VirgilApi/VirgilApiAccessTokenException.html" title="Virgil::SDK::HighLevel::VirgilApi::VirgilApiAccessTokenException (class)">VirgilApiAccessTokenException</a></span>, <span class='object_link'><a href="VirgilApi/VirgilApiException.html" title="Virgil::SDK::HighLevel::VirgilApi::VirgilApiException (class)">VirgilApiException</a></span>
    
  
</p>




  <h2>Instance Attribute Summary <small><a href="#" class="summary_toggle">collapse</a></small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#cards-instance_method" title="#cards (instance method)">#<strong>cards</strong>  &#x21d2; VirgilCardManager </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Virgil Card Manager that provides a work with VirgilCard entities.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#context-instance_method" title="#context (instance method)">#<strong>context</strong>  &#x21d2; VirgilContext </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Virgil Context that manages the VirgilApi dependencies during run time.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#keys-instance_method" title="#keys (instance method)">#<strong>keys</strong>  &#x21d2; VirgilKeyManager </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Virgil Key Manager that provides a work with VirgilKey entities.</p>
</div></span>
  
</li>

    
  </ul>




  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">#<strong>initialize</strong>(access_token: nil, context: nil)  &#x21d2; VirgilApi </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Initializes a new instance of the <span class='object_link'><a href="" title="Virgil::SDK::HighLevel::VirgilApi (class)">VirgilApi</a></span> class.</p>
</div></span>
  
</li>

      
    </ul>
  

<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    #<strong>initialize</strong>(access_token: nil, context: nil)  &#x21d2; <tt><span class='object_link'><a href="" title="Virgil::SDK::HighLevel::VirgilApi (class)">VirgilApi</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p>The both of the arguments(access_token and context) are not required for
actions with Global cards.</p>
</div>
  </div>


<p>Initializes a new instance of the <span class='object_link'><a href="" title="Virgil::SDK::HighLevel::VirgilApi (class)">Virgil::SDK::HighLevel::VirgilApi</a></span> class.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'>
<p>Initializes a new instance for actions: get card, find card.</p>
</div></p>
      
      <pre class="example code"><code><span class='id identifier rubyid_virgil'>virgil</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="" title="Virgil::SDK::HighLevel::VirgilApi (class)">VirgilApi</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='label'>access_token:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>[YOUR_ACCESS_TOKEN_HERE]</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span></code></pre>
    
      
        <p class="example_title"><div class='inline'>
<p>Initializes a new instance for actions: publish card, revoke card.</p>
</div></p>
      
      <pre class="example code"><code><span class='id identifier rubyid_virgil'>virgil</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="" title="Virgil::SDK::HighLevel::VirgilApi (class)">VirgilApi</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='label'>context:</span> <span class='const'><span class='object_link'><a href="VirgilContext.html" title="Virgil::SDK::HighLevel::VirgilContext (class)">VirgilContext</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="VirgilContext.html#initialize-instance_method" title="Virgil::SDK::HighLevel::VirgilContext#initialize (method)">new</a></span></span><span class='lparen'>(</span>
    <span class='label'>credentials:</span> <span class='const'><span class='object_link'><a href="VirgilAppCredentials.html" title="Virgil::SDK::HighLevel::VirgilAppCredentials (class)">VirgilAppCredentials</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="VirgilAppCredentials.html#initialize-instance_method" title="Virgil::SDK::HighLevel::VirgilAppCredentials#initialize (method)">new</a></span></span><span class='lparen'>(</span>
        <span class='label'>access_token:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>[YOUR_ACCESS_TOKEN_HERE]</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
        <span class='label'>app_id:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>[YOUR_APP_ID_HERE]</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
        <span class='label'>app_key_data:</span> <span class='const'><span class='object_link'><a href="VirgilBuffer.html" title="Virgil::SDK::HighLevel::VirgilBuffer (class)">VirgilBuffer</a></span></span><span class='period'>.</span><span class='id identifier rubyid_from_file'><span class='object_link'><a href="VirgilBuffer.html#from_file-class_method" title="Virgil::SDK::HighLevel::VirgilBuffer.from_file (method)">from_file</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>[YOUR_APP_KEY_PATH_HERE]</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
        <span class='label'>app_key_password:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>[YOUR_APP_KEY_PASSWORD_HERE]</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
<span class='rparen'>)</span></code></pre>
    
      
        <p class="example_title"><div class='inline'>
<p>Initializes a new instance for actions with global cards.</p>
</div></p>
      
      <pre class="example code"><code><span class='id identifier rubyid_virgil'>virgil</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="" title="Virgil::SDK::HighLevel::VirgilApi (class)">VirgilApi</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='rparen'>)</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>access_token:</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Retrieved string value from development deshboard that provides an
authenticated secure access to the Virgil Security services. The access
token also allows the API to associate your app requests with your Virgil
Security developerâ€™s account. It&#39;s not required if context with own
access token has been set. It&#39;s required(only if context with own
access token hasn&#39;t been set)</p>

<pre class="code ruby"><code class="ruby">for the following actions: get card, find card.</code></pre>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>context:</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="VirgilContext.html" title="Virgil::SDK::HighLevel::VirgilContext (class)">VirgilContext</a></span></tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Virgil Context that manages the VirgilApi dependencies during run time.
It&#39;s required with defined Application credentials and own access_token
for publishing and revoking card.</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/virgil/sdk/high_level/virgil_api.rb', line 94</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='label'>access_token:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>context:</span> <span class='kw'>nil</span><span class='rparen'>)</span>

  <span class='kw'>if</span> <span class='lparen'>(</span><span class='id identifier rubyid_access_token'>access_token</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_context'>context</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="VirgilApi/VirgilApiAccessTokenException.html" title="Virgil::SDK::HighLevel::VirgilApi::VirgilApiAccessTokenException (class)">VirgilApiAccessTokenException</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='kw'>unless</span> <span class='id identifier rubyid_access_token'>access_token</span> <span class='op'>==</span> <span class='id identifier rubyid_context'>context</span><span class='period'>.</span><span class='id identifier rubyid_access_token'>access_token</span>
  <span class='kw'>end</span>


  <span class='kw'>if</span> <span class='id identifier rubyid_context'>context</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_context'>context</span> <span class='op'>=</span> <span class='id identifier rubyid_context'>context</span>
  <span class='kw'>else</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_context'>context</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../Virgil.html" title="Virgil (module)">Virgil</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../SDK.html" title="Virgil::SDK (module)">SDK</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../HighLevel.html" title="Virgil::SDK::HighLevel (module)">HighLevel</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="VirgilContext.html" title="Virgil::SDK::HighLevel::VirgilContext (class)">VirgilContext</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="VirgilContext.html#initialize-instance_method" title="Virgil::SDK::HighLevel::VirgilContext#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='label'>access_token:</span> <span class='id identifier rubyid_access_token'>access_token</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_keys'>keys</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="VirgilKeyManager.html" title="Virgil::SDK::HighLevel::VirgilKeyManager (class)">VirgilKeyManager</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="VirgilKeyManager.html#initialize-instance_method" title="Virgil::SDK::HighLevel::VirgilKeyManager#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_context'>context</span><span class='rparen'>)</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_cards'>cards</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="VirgilCardManager.html" title="Virgil::SDK::HighLevel::VirgilCardManager (class)">VirgilCardManager</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="VirgilCardManager.html#initialize-instance_method" title="Virgil::SDK::HighLevel::VirgilCardManager#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_context'>context</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id="cards=-instance_method"></span>
      <div class="method_details first">
  <h3 class="signature first" id="cards-instance_method">
  
    #<strong>cards</strong>  &#x21d2; <tt><span class='object_link'><a href="VirgilCardManager.html" title="Virgil::SDK::HighLevel::VirgilCardManager (class)">VirgilCardManager</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Virgil Card Manager that provides a work with VirgilCard entities.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="VirgilCardManager.html" title="Virgil::SDK::HighLevel::VirgilCardManager (class)">VirgilCardManager</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


55
56
57</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/virgil/sdk/high_level/virgil_api.rb', line 55</span>

<span class='kw'>def</span> <span class='id identifier rubyid_cards'>cards</span>
  <span class='ivar'>@cards</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="context=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="context-instance_method">
  
    #<strong>context</strong>  &#x21d2; <tt><span class='object_link'><a href="VirgilContext.html" title="Virgil::SDK::HighLevel::VirgilContext (class)">VirgilContext</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Virgil Context that manages the VirgilApi dependencies during run time.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="VirgilContext.html" title="Virgil::SDK::HighLevel::VirgilContext (class)">VirgilContext</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


47
48
49</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/virgil/sdk/high_level/virgil_api.rb', line 47</span>

<span class='kw'>def</span> <span class='id identifier rubyid_context'>context</span>
  <span class='ivar'>@context</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="keys=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="keys-instance_method">
  
    #<strong>keys</strong>  &#x21d2; <tt><span class='object_link'><a href="VirgilKeyManager.html" title="Virgil::SDK::HighLevel::VirgilKeyManager (class)">VirgilKeyManager</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Virgil Key Manager that provides a work with VirgilKey entities.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="VirgilKeyManager.html" title="Virgil::SDK::HighLevel::VirgilKeyManager (class)">VirgilKeyManager</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


51
52
53</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/virgil/sdk/high_level/virgil_api.rb', line 51</span>

<span class='kw'>def</span> <span class='id identifier rubyid_keys'>keys</span>
  <span class='ivar'>@keys</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


</div>

      <div id="footer">
  Generated on Tue May 21 04:42:02 2019 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.19 (ruby-2.4.1).
</div>

    </div>
  </body>
</html>