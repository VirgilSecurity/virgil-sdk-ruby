<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: Virgil::SDK::HighLevel::VirgilCard
  
    &mdash; Documentation by YARD 0.9.19
  
</title>

  <link rel="stylesheet" href="../../../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../../../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "Virgil::SDK::HighLevel::VirgilCard";
  relpath = '../../../';
</script>


  <script type="text/javascript" charset="utf-8" src="../../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../../../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../../../_index.html">Index (V)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../../Virgil.html" title="Virgil (module)">Virgil</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../../SDK.html" title="Virgil::SDK (module)">SDK</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../HighLevel.html" title="Virgil::SDK::HighLevel (module)">HighLevel</a></span></span>
     &raquo; 
    <span class="title">VirgilCard</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: Virgil::SDK::HighLevel::VirgilCard
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">Virgil::SDK::HighLevel::VirgilCard</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/virgil/sdk/high_level/virgil_card.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>A Virgil Card is the main entity of the Virgil Security services, it
includes an information about the user and his public key. The Virgil Card
identifies the user by one of his available types, such as an email, a
phone number, etc.</p>


  </div>
</div>
<div class="tags">
  

</div><h2>Defined Under Namespace</h2>
<p class="children">
  
    
  
    
      <strong class="classes">Classes:</strong> <span class='object_link'><a href="VirgilCard/AppCredentialsException.html" title="Virgil::SDK::HighLevel::VirgilCard::AppCredentialsException (class)">AppCredentialsException</a></span>
    
  
</p>







  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#check_identity-instance_method" title="#check_identity (instance method)">#<strong>check_identity</strong>(identity_options = nil)  &#x21d2; VirgilIdentity::VerificationAttempt </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Initiates an identity verification process for current Card identity type.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#data-instance_method" title="#data (instance method)">#<strong>data</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#device-instance_method" title="#device (instance method)">#<strong>device</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#device_name-instance_method" title="#device_name (instance method)">#<strong>device_name</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#encrypt-instance_method" title="#encrypt (instance method)">#<strong>encrypt</strong>(buffer)  &#x21d2; VirgilBuffer </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Encrypts the specified data for current Virgil card recipient.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#export-instance_method" title="#export (instance method)">#<strong>export</strong>  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Exports card&#39;s snapshot.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#id-instance_method" title="#id (instance method)">#<strong>id</strong>  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>unique identifier for the Virgil Card.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#identity-instance_method" title="#identity (instance method)">#<strong>identity</strong>  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>the value of current Virgil Card identity.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#identity_type-instance_method" title="#identity_type (instance method)">#<strong>identity_type</strong>  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>the identityType of current Virgil Card identity.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">#<strong>initialize</strong>(context:, card:)  &#x21d2; VirgilCard </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Initializes a new instance of the <span class='object_link'><a href="" title="Virgil::SDK::HighLevel::VirgilCard (class)">VirgilCard</a></span> class.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#public_key-instance_method" title="#public_key (instance method)">#<strong>public_key</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#publish-instance_method" title="#publish (instance method)">#<strong>publish</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Publish synchronously the card into application Virgil Services scope.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#publish_as_global-instance_method" title="#publish_as_global (instance method)">#<strong>publish_as_global</strong>(validation_token)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Publish synchronously the global card into application Virgil Services
scope.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#scope-instance_method" title="#scope (instance method)">#<strong>scope</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#verify-instance_method" title="#verify (instance method)">#<strong>verify</strong>(buffer, signature)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Verifies the specified buffer and signature with current VirgilCard
recipient.</p>
</div></span>
  
</li>

      
    </ul>
  

<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    #<strong>initialize</strong>(context:, card:)  &#x21d2; <tt><span class='object_link'><a href="" title="Virgil::SDK::HighLevel::VirgilCard (class)">VirgilCard</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Initializes a new instance of the <span class='object_link'><a href="" title="Virgil::SDK::HighLevel::VirgilCard (class)">Virgil::SDK::HighLevel::VirgilCard</a></span> class.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


54
55
56
57</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/virgil/sdk/high_level/virgil_card.rb', line 54</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='label'>context:</span><span class='comma'>,</span> <span class='label'>card:</span><span class='rparen'>)</span>
  <span class='ivar'>@context</span> <span class='op'>=</span> <span class='id identifier rubyid_context'>context</span>
  <span class='ivar'>@card</span> <span class='op'>=</span> <span class='id identifier rubyid_card'>card</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="check_identity-instance_method">
  
    #<strong>check_identity</strong>(identity_options = nil)  &#x21d2; <tt><span class='object_link'><a href="VirgilIdentity/VerificationAttempt.html" title="Virgil::SDK::HighLevel::VirgilIdentity::VerificationAttempt (class)">VirgilIdentity::VerificationAttempt</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Initiates an identity verification process for current Card identity type.
It is only working for Global identity types like Email.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>identity_options</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="VirgilIdentity/VerificationOptions.html" title="Virgil::SDK::HighLevel::VirgilIdentity::VerificationOptions (class)">VirgilIdentity::VerificationOptions</a></span></tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>The data to be encrypted.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="VirgilIdentity/VerificationAttempt.html" title="Virgil::SDK::HighLevel::VirgilIdentity::VerificationAttempt (class)">VirgilIdentity::VerificationAttempt</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>that contains information about action and etc</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


202
203
204
205
206
207
208
209</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/virgil/sdk/high_level/virgil_card.rb', line 202</span>

<span class='kw'>def</span> <span class='id identifier rubyid_check_identity'>check_identity</span><span class='lparen'>(</span><span class='id identifier rubyid_identity_options'>identity_options</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_extra_fields'>extra_fields</span> <span class='op'>=</span> <span class='id identifier rubyid_identity_options'>identity_options</span> <span class='op'>?</span> <span class='id identifier rubyid_identity_options'>identity_options</span><span class='period'>.</span><span class='id identifier rubyid_extra_fields'>extra_fields</span> <span class='op'>:</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='id identifier rubyid_action_id'>action_id</span> <span class='op'>=</span> <span class='id identifier rubyid_context'>context</span><span class='period'>.</span><span class='id identifier rubyid_client'>client</span><span class='period'>.</span><span class='id identifier rubyid_verify_identity'>verify_identity</span><span class='lparen'>(</span><span class='id identifier rubyid_identity'>identity</span><span class='comma'>,</span> <span class='id identifier rubyid_identity_type'>identity_type</span><span class='comma'>,</span> <span class='id identifier rubyid_extra_fields'>extra_fields</span><span class='rparen'>)</span>
  <span class='const'><span class='object_link'><a href="VirgilIdentity.html" title="Virgil::SDK::HighLevel::VirgilIdentity (module)">VirgilIdentity</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="VirgilIdentity/VerificationAttempt.html" title="Virgil::SDK::HighLevel::VirgilIdentity::VerificationAttempt (class)">VerificationAttempt</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="VirgilIdentity/VerificationAttempt.html#initialize-instance_method" title="Virgil::SDK::HighLevel::VirgilIdentity::VerificationAttempt#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='label'>context:</span> <span class='id identifier rubyid_context'>context</span><span class='comma'>,</span> <span class='label'>action_id:</span> <span class='id identifier rubyid_action_id'>action_id</span><span class='comma'>,</span>
                                          <span class='label'>identity:</span> <span class='id identifier rubyid_identity'>identity</span><span class='comma'>,</span> <span class='label'>identity_type:</span> <span class='id identifier rubyid_identity_type'>identity_type</span><span class='comma'>,</span>
                                          <span class='label'>additional_options:</span> <span class='id identifier rubyid_identity_options'>identity_options</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="data-instance_method">
  
    #<strong>data</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


90
91
92</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/virgil/sdk/high_level/virgil_card.rb', line 90</span>

<span class='kw'>def</span> <span class='id identifier rubyid_data'>data</span>
  <span class='id identifier rubyid_card'>card</span><span class='period'>.</span><span class='id identifier rubyid_data'>data</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="device-instance_method">
  
    #<strong>device</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


105
106
107</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/virgil/sdk/high_level/virgil_card.rb', line 105</span>

<span class='kw'>def</span> <span class='id identifier rubyid_device'>device</span>
  <span class='id identifier rubyid_card'>card</span><span class='period'>.</span><span class='id identifier rubyid_device'>device</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="device_name-instance_method">
  
    #<strong>device_name</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


110
111
112</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/virgil/sdk/high_level/virgil_card.rb', line 110</span>

<span class='kw'>def</span> <span class='id identifier rubyid_device_name'>device_name</span>
  <span class='id identifier rubyid_card'>card</span><span class='period'>.</span><span class='id identifier rubyid_device_name'>device_name</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="encrypt-instance_method">
  
    #<strong>encrypt</strong>(buffer)  &#x21d2; <tt><span class='object_link'><a href="VirgilBuffer.html" title="Virgil::SDK::HighLevel::VirgilBuffer (class)">VirgilBuffer</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Encrypts the specified data for current Virgil card recipient</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code><span class='id identifier rubyid_virgil'>virgil</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="VirgilApi.html" title="Virgil::SDK::HighLevel::VirgilApi (class)">VirgilApi</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="VirgilApi.html#initialize-instance_method" title="Virgil::SDK::HighLevel::VirgilApi#initialize (method)">new</a></span></span><span class='lparen'>(</span> <span class='label'>access_token:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>[YOUR_ACCESS_TOKEN_HERE]</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_alice_card'>alice_card</span> <span class='op'>=</span> <span class='id identifier rubyid_virgil'>virgil</span><span class='period'>.</span><span class='id identifier rubyid_cards'>cards</span><span class='period'>.</span><span class='id identifier rubyid_get'>get</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>[USER_CARD_ID_HERE]</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>

<span class='id identifier rubyid_file_buf'>file_buf</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="VirgilBuffer.html" title="Virgil::SDK::HighLevel::VirgilBuffer (class)">VirgilBuffer</a></span></span><span class='period'>.</span><span class='id identifier rubyid_from_file'><span class='object_link'><a href="VirgilBuffer.html#from_file-class_method" title="Virgil::SDK::HighLevel::VirgilBuffer.from_file (method)">from_file</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>[FILE_NAME_HERE]</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>

<span class='comment'># encrypt the buffer using found Virgil Cards
</span><span class='id identifier rubyid_cipher_file_buf'>cipher_file_buf</span> <span class='op'>=</span> <span class='id identifier rubyid_alice_card'>alice_card</span><span class='period'>.</span><span class='id identifier rubyid_encrypt'>encrypt</span><span class='lparen'>(</span><span class='id identifier rubyid_file_buf'>file_buf</span><span class='rparen'>)</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>buffer</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="VirgilBuffer.html" title="Virgil::SDK::HighLevel::VirgilBuffer (class)">VirgilBuffer</a></span></tt>, <tt>Crypto::Bytes</tt>, <tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The data to be encrypted. It can be VirgilBuffer, utf8-String or Array of
bytes</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="VirgilBuffer.html" title="Virgil::SDK::HighLevel::VirgilBuffer (class)">VirgilBuffer</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Encrypted data for current Virgil card recipient</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>ArgumentError</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>if buffer doesn&#39;t have type VirgilBuffer, String or Array of bytes</p>
</div>
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="VirgilBuffer.html#from_file-class_method" title="Virgil::SDK::HighLevel::VirgilBuffer.from_file (method)">Initializes a new buffer from file.</a></span></li>
    
      <li><span class='object_link'><a href="VirgilCardManager.html#get-instance_method" title="Virgil::SDK::HighLevel::VirgilCardManager#get (method)">Get a card from Virgil Security services by specified Card ID.</a></span></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/virgil/sdk/high_level/virgil_card.rb', line 179</span>

<span class='kw'>def</span> <span class='id identifier rubyid_encrypt'>encrypt</span><span class='lparen'>(</span><span class='id identifier rubyid_buffer'>buffer</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_buffer_to_encrypt'>buffer_to_encrypt</span> <span class='op'>=</span> <span class='kw'>case</span> <span class='id identifier rubyid_buffer'>buffer</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>::</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span>
                        <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>VirgilBuffer</span><span class='tstring_end'>&#39;</span></span>
                          <span class='id identifier rubyid_buffer'>buffer</span>
                        <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>String</span><span class='tstring_end'>&#39;</span></span>
                          <span class='const'><span class='object_link'><a href="VirgilBuffer.html" title="Virgil::SDK::HighLevel::VirgilBuffer (class)">VirgilBuffer</a></span></span><span class='period'>.</span><span class='id identifier rubyid_from_string'><span class='object_link'><a href="VirgilBuffer.html#from_string-class_method" title="Virgil::SDK::HighLevel::VirgilBuffer.from_string (method)">from_string</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_buffer'>buffer</span><span class='rparen'>)</span>
                        <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Array</span><span class='tstring_end'>&#39;</span></span>
                          <span class='const'><span class='object_link'><a href="VirgilBuffer.html" title="Virgil::SDK::HighLevel::VirgilBuffer (class)">VirgilBuffer</a></span></span><span class='period'>.</span><span class='id identifier rubyid_from_bytes'><span class='object_link'><a href="VirgilBuffer.html#from_bytes-class_method" title="Virgil::SDK::HighLevel::VirgilBuffer.from_bytes (method)">from_bytes</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_buffer'>buffer</span><span class='rparen'>)</span>
                        <span class='kw'>else</span>
                          <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Buffer has unsupported type</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
                      <span class='kw'>end</span>


  <span class='const'><span class='object_link'><a href="VirgilBuffer.html" title="Virgil::SDK::HighLevel::VirgilBuffer (class)">VirgilBuffer</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="VirgilBuffer.html#initialize-instance_method" title="Virgil::SDK::HighLevel::VirgilBuffer#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_context'>context</span><span class='period'>.</span><span class='id identifier rubyid_crypto'>crypto</span><span class='period'>.</span><span class='id identifier rubyid_encrypt'>encrypt</span><span class='lparen'>(</span><span class='id identifier rubyid_buffer_to_encrypt'>buffer_to_encrypt</span><span class='period'>.</span><span class='id identifier rubyid_bytes'>bytes</span><span class='comma'>,</span> <span class='id identifier rubyid_public_key'>public_key</span><span class='rparen'>)</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="export-instance_method">
  
    #<strong>export</strong>  &#x21d2; <tt>String</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Exports card&#39;s snapshot.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code><span class='id identifier rubyid_exported_alice_card'>exported_alice_card</span> <span class='op'>=</span> <span class='id identifier rubyid_alice_card'>alice_card</span><span class='period'>.</span><span class='id identifier rubyid_export'>export</span></code></pre>
    
  </div>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>base64-encoded json representation of card&#39;s content_snapshot and meta.</p>
</div>
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="VirgilCardManager.html#create-instance_method" title="Virgil::SDK::HighLevel::VirgilCardManager#create (method)">How to create alice_card # AFTER EXPORT DEVELOPERS HAVE TO TRANSMIT THE VIRGIL CARD TO THE APP'S SERVER SIDE WHERE IT WILL # BE SIGNED, VALIDATED AND THEN PUBLISHED ON VIRGIL SERVICES (THIS IS NECESSARY FOR # FURTHER OPERATIONS WITH THE VIRGIL CARD).</a></span></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


123
124
125</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/virgil/sdk/high_level/virgil_card.rb', line 123</span>

<span class='kw'>def</span> <span class='id identifier rubyid_export'>export</span>
  <span class='id identifier rubyid_card'>card</span><span class='period'>.</span><span class='id identifier rubyid_export'>export</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="id-instance_method">
  
    #<strong>id</strong>  &#x21d2; <tt>String</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>unique identifier for the Virgil Card.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


71
72
73</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/virgil/sdk/high_level/virgil_card.rb', line 71</span>

<span class='kw'>def</span> <span class='id identifier rubyid_id'>id</span>
  <span class='id identifier rubyid_card'>card</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="identity-instance_method">
  
    #<strong>identity</strong>  &#x21d2; <tt>String</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>the value of current Virgil Card identity.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


78
79
80</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/virgil/sdk/high_level/virgil_card.rb', line 78</span>

<span class='kw'>def</span> <span class='id identifier rubyid_identity'>identity</span>
  <span class='id identifier rubyid_card'>card</span><span class='period'>.</span><span class='id identifier rubyid_identity'>identity</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="identity_type-instance_method">
  
    #<strong>identity_type</strong>  &#x21d2; <tt>String</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>the identityType of current Virgil Card identity.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


85
86
87</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/virgil/sdk/high_level/virgil_card.rb', line 85</span>

<span class='kw'>def</span> <span class='id identifier rubyid_identity_type'>identity_type</span>
  <span class='id identifier rubyid_card'>card</span><span class='period'>.</span><span class='id identifier rubyid_identity_type'>identity_type</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="public_key-instance_method">
  
    #<strong>public_key</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


100
101
102</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/virgil/sdk/high_level/virgil_card.rb', line 100</span>

<span class='kw'>def</span> <span class='id identifier rubyid_public_key'>public_key</span>
  <span class='id identifier rubyid_context'>context</span><span class='period'>.</span><span class='id identifier rubyid_crypto'>crypto</span><span class='period'>.</span><span class='id identifier rubyid_import_public_key'>import_public_key</span><span class='lparen'>(</span><span class='id identifier rubyid_card'>card</span><span class='period'>.</span><span class='id identifier rubyid_public_key'>public_key</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="publish-instance_method">
  
    #<strong>publish</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Publish synchronously the card into application Virgil Services scope</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code><span class='id identifier rubyid_alice_card'>alice_card</span><span class='period'>.</span><span class='id identifier rubyid_publish'>publish</span></code></pre>
    
  </div>

<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../Client/HTTP/BaseConnection/ApiError.html" title="Virgil::SDK::Client::HTTP::BaseConnection::ApiError (class)">Virgil::SDK::Client::HTTP::BaseConnection::ApiError</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>if access_token is invalid or Virgil Card with the same fingerprint already
exists in Virgil Security services</p>
</div>
      
    </li>
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="VirgilCard/AppCredentialsException.html" title="Virgil::SDK::HighLevel::VirgilCard::AppCredentialsException (class)">AppCredentialsException</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>if application credentials&#39; app_id and app_key are missing</p>
</div>
      
    </li>
  
    <li>
      
      
        <span class='type'>(<tt>NotImplementedError</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>if the card is Global</p>
</div>
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="VirgilCardManager.html#import-instance_method" title="Virgil::SDK::HighLevel::VirgilCardManager#import (method)">how to get alice_card</a></span></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


136
137
138
139
140
141
142
143
144
145</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/virgil/sdk/high_level/virgil_card.rb', line 136</span>

<span class='kw'>def</span> <span class='id identifier rubyid_publish'>publish</span>

  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>NotImplementedError</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Current card isn&#39;t local!</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='ivar'>@card</span><span class='period'>.</span><span class='id identifier rubyid_scope'>scope</span> <span class='op'>==</span> <span class='const'><span class='object_link'><a href="../Client.html" title="Virgil::SDK::Client (module)">Client</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Client/Card.html" title="Virgil::SDK::Client::Card (class)">Card</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Client/Card.html#APPLICATION-constant" title="Virgil::SDK::Client::Card::APPLICATION (constant)">APPLICATION</a></span></span>
  <span class='id identifier rubyid_validate_app_credentials'>validate_app_credentials</span>

  <span class='ivar'>@card</span> <span class='op'>=</span> <span class='id identifier rubyid_context'>context</span><span class='period'>.</span><span class='id identifier rubyid_client'>client</span><span class='period'>.</span><span class='id identifier rubyid_sign_and_publish_card'>sign_and_publish_card</span><span class='lparen'>(</span>
      <span class='id identifier rubyid_card'>card</span><span class='comma'>,</span>
      <span class='id identifier rubyid_context'>context</span><span class='period'>.</span><span class='id identifier rubyid_credentials'>credentials</span><span class='period'>.</span><span class='id identifier rubyid_app_id'>app_id</span><span class='comma'>,</span>
      <span class='id identifier rubyid_context'>context</span><span class='period'>.</span><span class='id identifier rubyid_credentials'>credentials</span><span class='period'>.</span><span class='id identifier rubyid_app_key'>app_key</span><span class='lparen'>(</span><span class='id identifier rubyid_context'>context</span><span class='period'>.</span><span class='id identifier rubyid_crypto'>crypto</span><span class='rparen'>)</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="publish_as_global-instance_method">
  
    #<strong>publish_as_global</strong>(validation_token)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Publish synchronously the global card into application Virgil Services
scope</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>validation_token</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="VirgilIdentity/ValidationToken.html" title="Virgil::SDK::HighLevel::VirgilIdentity::ValidationToken (class)">VirgilIdentity::ValidationToken</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../Client/HTTP/BaseConnection/ApiError.html" title="Virgil::SDK::Client::HTTP::BaseConnection::ApiError (class)">Virgil::SDK::Client::HTTP::BaseConnection::ApiError</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>if Virgil Card with the same fingerprint already exists in Virgil Security
services</p>
</div>
      
    </li>
  
    <li>
      
      
        <span class='type'>(<tt>NotImplementedError</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>if the card is Local</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


154
155
156
157
158
159
160
161</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/virgil/sdk/high_level/virgil_card.rb', line 154</span>

<span class='kw'>def</span> <span class='id identifier rubyid_publish_as_global'>publish_as_global</span><span class='lparen'>(</span><span class='id identifier rubyid_validation_token'>validation_token</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>NotImplementedError</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Current card isn&#39;t global!</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='ivar'>@card</span><span class='period'>.</span><span class='id identifier rubyid_scope'>scope</span> <span class='op'>==</span> <span class='const'><span class='object_link'><a href="../Client.html" title="Virgil::SDK::Client (module)">Client</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Client/Card.html" title="Virgil::SDK::Client::Card (class)">Card</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Client/Card.html#GLOBAL-constant" title="Virgil::SDK::Client::Card::GLOBAL (constant)">GLOBAL</a></span></span>

  <span class='ivar'>@card</span><span class='period'>.</span><span class='id identifier rubyid_validation_token'>validation_token</span> <span class='op'>=</span> <span class='id identifier rubyid_validation_token'>validation_token</span>
  <span class='ivar'>@card</span> <span class='op'>=</span> <span class='id identifier rubyid_context'>context</span><span class='period'>.</span><span class='id identifier rubyid_client'>client</span><span class='period'>.</span><span class='id identifier rubyid_publish_as_global_card'>publish_as_global_card</span><span class='lparen'>(</span><span class='id identifier rubyid_card'>card</span><span class='rparen'>)</span>
  <span class='ivar'>@card</span><span class='period'>.</span><span class='id identifier rubyid_validation_token'>validation_token</span> <span class='op'>=</span> <span class='id identifier rubyid_validation_token'>validation_token</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="scope-instance_method">
  
    #<strong>scope</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


95
96
97</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/virgil/sdk/high_level/virgil_card.rb', line 95</span>

<span class='kw'>def</span> <span class='id identifier rubyid_scope'>scope</span>
  <span class='id identifier rubyid_card'>card</span><span class='period'>.</span><span class='id identifier rubyid_scope'>scope</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="verify-instance_method">
  
    #<strong>verify</strong>(buffer, signature)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Verifies the specified buffer and signature with current VirgilCard
recipient</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code><span class='id identifier rubyid_virgil'>virgil</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="VirgilApi.html" title="Virgil::SDK::HighLevel::VirgilApi (class)">VirgilApi</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="VirgilApi.html#initialize-instance_method" title="Virgil::SDK::HighLevel::VirgilApi#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='label'>access_token:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>[YOUR_ACCESS_TOKEN_HERE]</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='comment'># search for Alice&#39;s Card
</span><span class='id identifier rubyid_alice_card'>alice_card</span> <span class='op'>=</span> <span class='id identifier rubyid_virgil'>virgil</span><span class='period'>.</span><span class='id identifier rubyid_cards'>cards</span><span class='period'>.</span><span class='id identifier rubyid_get'>get</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>[ALICE_CARD_ID]</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>

<span class='kw'>unless</span> <span class='id identifier rubyid_alice_card'>alice_card</span><span class='period'>.</span><span class='id identifier rubyid_verify'>verify</span><span class='lparen'>(</span><span class='id identifier rubyid_message'>message</span><span class='comma'>,</span> <span class='id identifier rubyid_signature'>signature</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Alice it&#39;s not you.</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>buffer</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="VirgilBuffer.html" title="Virgil::SDK::HighLevel::VirgilBuffer (class)">VirgilBuffer</a></span></tt>, <tt>Crypto::Bytes</tt>, <tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The data to be verified. It can be VirgilBuffer, utf8-encoded String or
Array of bytes</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>signature</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="VirgilBuffer.html" title="Virgil::SDK::HighLevel::VirgilBuffer (class)">VirgilBuffer</a></span></tt>, <tt>Crypto::Bytes</tt>, <tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The signature used to verify the data integrity. It can be VirgilBuffer,
base64-encoded String or Array of bytes</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>true if signature is valid, false otherwise.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>ArgumentError</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>if buffer doesn&#39;t have type VirgilBuffer, Array of bytes or
utf8-encoded String</p>
</div>
      
    </li>
  
    <li>
      
      
        <span class='type'>(<tt>ArgumentError</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>if signature doesn&#39;t have type VirgilBuffer, base64-encoded String or
Array of bytes</p>
</div>
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="VirgilKey.html#sign-instance_method" title="Virgil::SDK::HighLevel::VirgilKey#sign (method)">How to get signature</a></span></li>
    
      <li><span class='object_link'><a href="VirgilCardManager.html#get-instance_method" title="Virgil::SDK::HighLevel::VirgilCardManager#get (method)">Get Virgil Card</a></span></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/virgil/sdk/high_level/virgil_card.rb', line 230</span>

<span class='kw'>def</span> <span class='id identifier rubyid_verify'>verify</span><span class='lparen'>(</span><span class='id identifier rubyid_buffer'>buffer</span><span class='comma'>,</span> <span class='id identifier rubyid_signature'>signature</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_buffer_to_verify'>buffer_to_verify</span> <span class='op'>=</span> <span class='kw'>case</span> <span class='id identifier rubyid_buffer'>buffer</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>::</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span>
                       <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>VirgilBuffer</span><span class='tstring_end'>&#39;</span></span>
                         <span class='id identifier rubyid_buffer'>buffer</span>
                       <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>String</span><span class='tstring_end'>&#39;</span></span>
                         <span class='const'><span class='object_link'><a href="VirgilBuffer.html" title="Virgil::SDK::HighLevel::VirgilBuffer (class)">VirgilBuffer</a></span></span><span class='period'>.</span><span class='id identifier rubyid_from_string'><span class='object_link'><a href="VirgilBuffer.html#from_string-class_method" title="Virgil::SDK::HighLevel::VirgilBuffer.from_string (method)">from_string</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_buffer'>buffer</span><span class='rparen'>)</span>
                       <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Array</span><span class='tstring_end'>&#39;</span></span>
                         <span class='const'><span class='object_link'><a href="VirgilBuffer.html" title="Virgil::SDK::HighLevel::VirgilBuffer (class)">VirgilBuffer</a></span></span><span class='period'>.</span><span class='id identifier rubyid_from_bytes'><span class='object_link'><a href="VirgilBuffer.html#from_bytes-class_method" title="Virgil::SDK::HighLevel::VirgilBuffer.from_bytes (method)">from_bytes</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_buffer'>buffer</span><span class='rparen'>)</span>
                       <span class='kw'>else</span>
                         <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Buffer has unsupported type</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
                     <span class='kw'>end</span>

  <span class='id identifier rubyid_signature_to_verify'>signature_to_verify</span> <span class='op'>=</span> <span class='kw'>case</span> <span class='id identifier rubyid_signature'>signature</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>::</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span>
                          <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>VirgilBuffer</span><span class='tstring_end'>&#39;</span></span>
                            <span class='id identifier rubyid_signature'>signature</span>
                          <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>String</span><span class='tstring_end'>&#39;</span></span>
                            <span class='const'><span class='object_link'><a href="VirgilBuffer.html" title="Virgil::SDK::HighLevel::VirgilBuffer (class)">VirgilBuffer</a></span></span><span class='period'>.</span><span class='id identifier rubyid_from_base64'><span class='object_link'><a href="VirgilBuffer.html#from_base64-class_method" title="Virgil::SDK::HighLevel::VirgilBuffer.from_base64 (method)">from_base64</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_signature'>signature</span><span class='rparen'>)</span>
                          <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Array</span><span class='tstring_end'>&#39;</span></span>
                            <span class='const'><span class='object_link'><a href="VirgilBuffer.html" title="Virgil::SDK::HighLevel::VirgilBuffer (class)">VirgilBuffer</a></span></span><span class='period'>.</span><span class='id identifier rubyid_from_bytes'><span class='object_link'><a href="VirgilBuffer.html#from_bytes-class_method" title="Virgil::SDK::HighLevel::VirgilBuffer.from_bytes (method)">from_bytes</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_signature'>signature</span><span class='rparen'>)</span>
                          <span class='kw'>else</span>
                            <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Signature has unsupported type</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
                        <span class='kw'>end</span>
  <span class='id identifier rubyid_context'>context</span><span class='period'>.</span><span class='id identifier rubyid_crypto'>crypto</span><span class='period'>.</span><span class='id identifier rubyid_verify'>verify</span><span class='lparen'>(</span><span class='id identifier rubyid_buffer_to_verify'>buffer_to_verify</span><span class='period'>.</span><span class='id identifier rubyid_bytes'>bytes</span><span class='comma'>,</span> <span class='id identifier rubyid_signature_to_verify'>signature_to_verify</span><span class='period'>.</span><span class='id identifier rubyid_bytes'>bytes</span><span class='comma'>,</span> <span class='id identifier rubyid_public_key'>public_key</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Tue May 21 04:42:02 2019 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.19 (ruby-2.4.1).
</div>

    </div>
  </body>
</html>